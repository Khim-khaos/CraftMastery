# CraftMastery

CraftMastery — это мод для Minecraft 1.12.2, добавляющий полноценную систему прогрессии рецептов и опыта. Игроки осваивают ремёсла, открывают вкладки с рецептами, тратят очки на изучение узлов и получают визуальную обратную связь через переработанный GUI.

## Основные возможности

- **Древо рецептов** с настраиваемыми узлами, связями и несколькими вкладками.
- **Система опыта** с уровнями, HUD-виджетами и кастомными эффектами при прокачке.
- **Гибкий GUI**: перетаскивание узлов, подтверждение изучения рецептов, миникарта дерева, админ-панель.
- **Управление правами**: PermissionManager и типы разрешений для выдачи/ограничения действий.
- **Команды CraftMastery** для выдачи опыта, управления рецептами и конфигурацией.
- **Интеграция с JEI**: скрытие неразблокированных рецептов и дополнительные фильтры.

## Требования

- Minecraft **1.12.2**
- Forge / RetroFuturaGradle среда (проект использует `retrofuturagradle` для сборки)
- Java 8 (по умолчанию) или выше, если включена `use_modern_java_syntax`

## Установка (игрок)

1. Установите Minecraft Forge 1.12.2.
2. Скачайте собранный архив `craftmastery-<version>.jar` из раздела релизов.
3. Поместите файл в папку `mods` вашего профиля Minecraft.
4. Запустите игру и убедитесь, что мод появился в списке модификаций.

## Сборка из исходников

1. Установите JDK 8 (или используйте Azul JDK, как рекомендует Gradle скрипт).
2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Khim-khaos/CraftMastery.git
   cd CraftMastery
   ```
3. Убедитесь, что в файле `gradle.properties` заданны значения `mod_version`, `mod_id`, `mod_name` и др.
4. Выполните сборку:
   ```bash
   ./gradlew build
   ```
   Готовый jar появится в `build/libs`.

### Запуск клиента для разработки

Используйте преднастроенную задачу:

```bash
./gradlew runClient
```

Среда RetroFuturaGradle проведёт деобфускацию и запустит dev-клиент с модом.

## Структура проекта

Обновлённое дерево пакетов доступно в [`PROJECT_STATUS.md`](PROJECT_STATUS.md). Кратко:

```text
com.khimkhaosow.craftmastery
├── CraftMastery.java          # Точка входа мода
├── client/gui                 # Клиентские оверлеи
├── commands                   # Команды и регистрация
├── config                     # Конфигурация и менеджеры дерева
├── crafting                   # Логика крафта и проверок
├── experience                 # Система опыта и уровней
├── gui                        # Все экраны и виджеты редактора
├── integration/jei            # JEI интеграция
├── network                    # Сообщения и обработчик сети
├── permissions                # Менеджер прав
├── proxy                      # Client/Common прокси
├── recipe                     # Модели рецептов и менеджер
├── storage                    # Хранилища данных
├── tabs                       # Управление вкладками дерева
└── util                       # Вспомогательные классы
```

## Тестирование

- Используйте `./gradlew runClient` для ручного тестирования GUI и логики.
- Для проверки сети запустите клиент и сервер (задача `runServer` при необходимости).
- Логи можно найти в `run/logs/latest.log`.

## Вклад

1. Форкните репозиторий и создайте ветку feature/bugfix.
2. Соблюдайте существующий код-стайл (Java 8, комментарии только для сложной логики).
3. Добавляйте описание изменений в `PROJECT_STATUS.md` и при необходимости обновляйте README.
4. Создайте pull request с чётким описанием изменений и шагами тестирования.

## Лицензия

Лицензия пока не указана. Если вы планируете публиковать мод, рекомендуем добавить файл `LICENSE` (например, MIT/GPL) и ссылку в README.

---

Если вы тестируете последний прогресс, смотрите раздел «Текущий прогресс» в [`PROJECT_STATUS.md`](PROJECT_STATUS.md)—там перечислены завершённые задачи и TODO.
